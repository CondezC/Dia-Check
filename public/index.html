<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home | DiaCheck • AI Diabetes Risk Predictor</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
  <header>
    <div class="container">
      <button class="menu-toggle"><i class="fas fa-bars"></i></button>
      <a style="color: #fff;text-decoration: none;" href="/">
        <h1><i class="fas fa-leaf"></i> DiaCheck • AI Diabetes Risk Predictor</h1>
      </a>
      <nav>
        <ul id="navMenu">
          <li><a href="#" data-target="home">Home</a></li>
          <li><a href="#" data-target="detect">Analyze Health Data</a></li>
          <li><a href="#" data-target="history">History</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <section id="home" class="hero-section">
      <h2>Welcome to DiaCheck</h2>
      <p>Clinically validated AI assesses your Type 2 diabetes risk by analyzing your health documents and test
        results.<br />
        Upload your health checkups • No login required • 100% free.</p>
      <div class="feature-grid">
        <div class="feature-card" data-target="detect" data-action="capture">
          <i class="fas fa-camera"></i>
          <h3>Capture Document</h3>
          <p>Use your camera to capture health reports or documents.</p>
        </div>
        <div class="feature-card" data-target="detect" data-action="upload">
          <i class="fas fa-file-medical"></i>
          <h3>Upload Health Documents</h3>
          <p>Upload lab results, medical reports, or previous checkups for analysis.</p>
        </div>
      </div>
    </section>

    <section id="detect" class="detection-section">
      <h2>Analyze Health Data</h2>
      <div class="upload-area">
        <p>Upload or capture images of your health documents for diabetes risk analysis:</p>
        <div class="upload-guide">
          <p><strong>Accepted documents:</strong> Lab results (blood tests), medical reports, health checkup summaries,
            prescription documents, or any relevant health records.</p>
        </div>

        <div class="button-container">
          <button id="startCameraBtn" class="btn primary-btn"><i class="fas fa-camera"></i> Capture Document</button>
          <button id="uploadBtn" class="btn primary-btn"><i class="fas fa-file-upload"></i> Upload Health
            Document</button>
          <input type="file" id="imageInput" accept="image/jpeg,image/jpg,image/png,image/webp,application/pdf">
        </div>

        <div class="image-preview-container">
          <div id="loadingSpinner" class="spinner-container" style="display: none;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
              <linearGradient id="a12">
                <stop offset="0" stop-color="#28A745" stop-opacity="0"></stop>
                <stop offset="1" stop-color="#28A745"></stop>
              </linearGradient>
              <circle fill="none" stroke="url(#a12)" stroke-width="15" stroke-linecap="round"
                stroke-dasharray="0 44 0 44 0 44 0 44 0 360" cx="100" cy="100" r="70" transform-origin="center">
                <animateTransform type="rotate" attributeName="transform" calcMode="discrete" dur="2"
                  values="360;324;288;252;216;180;144;108;72;36" repeatCount="indefinite"></animateTransform>
              </circle>
            </svg>
            <p>Analyzing health data...</p>
          </div>
          <video id="videoPreview" autoplay playsinline style="display:none"></video>
          <img id="imagePreview" alt="Document Preview" style="display:none;">
          <p id="previewPlaceholder">No document selected</p>
          <button id="captureBtn" class="btn capture-btn" style="display:none;">
            <i class="fas fa-circle"></i>
          </button>
        </div>

        <div class="button-container">
          <button id="analyzeImageBtn" class="btn success-btn" disabled>
            <i class="fas fa-stethoscope"></i> Analyze Health Document
          </button>
          <button id="tryAgainBtn" class="btn secondary-btn" style="display:none;">
            <i class="fas fa-redo"></i> Try Another Document
          </button>
        </div>
      </div>

      <div id="resultsSection" class="results-area" style="display:none;">
        <h3>Health Analysis Results</h3>
        <div class="result-item">
          <strong>Diabetes Risk Assessment:</strong>
          <span id="diseaseType" class="result-value"></span>
        </div>
        <div class="result-item">
          <strong>Analysis Confidence:</strong>
          <span id="confidenceScore" class="result-value"></span>
        </div>

        <div class="result-description">
          <h4>Key Findings:</h4>
          <p id="diseaseDescription" class="description-text"></p>
        </div>

        <div class="prescription-mitigation">
          <h4>Medical Recommendations:</h4>
          <ul id="prescription"></ul>
        </div>

        <div class="prescription-mitigation">
          <h4>Health Management Strategies:</h4>
          <ul id="mitigation"></ul>
        </div>

        <div class="button-container">
          <button class="btn share-btn">
            <i class="fas fa-share-alt"></i> Share Analysis
          </button>
          <button class="btn secondary-btn">
            <i class="fas fa-download"></i> Download Report
          </button>
        </div>
      </div>
    </section>

    <section id="history" class="history-section">
      <h2>Analysis History</h2>
      <div id="historyList" class="history-list"></div>
      <div id="noHistoryMessage" class="empty-history" style="display:none;">
        <i class="fas fa-history"></i>
        <p>No previous health analyses found.</p>
        <p class="subtext">Upload your health documents to get started.</p>
      </div>
      <div class="load-more-container">
        <button id="loadMoreBtn" class="btn load-more-btn" style="display:none;">Show More</button>
      </div>
    </section>
  </main>

  <!-- Image Modal -->
  <div id="imageModal" class="modal">
    <span class="modal-close">&times;</span>
    <img id="modalImg" alt="Fullscreen Preview">
  </div>

  <!-- Success Modal -->
  <div id="successModal" class="custom-modal" style="display:none;">
    <div class="modal-content">
      <div class="modal-header success">
        <i class="fas fa-check-circle"></i>
        <h3>Analysis Complete!</h3>
      </div>
      <div class="modal-body">
        <p>Your health document has been successfully analyzed.</p>
        <p>You can view the results above or try another document.</p>
      </div>
      <div class="modal-footer">
        <button id="closeSuccessModal" class="btn primary-btn">OK</button>
      </div>
    </div>
  </div>

  <!-- Error Modal -->
  <div id="errorModal" class="custom-modal" style="display:none;">
    <div class="modal-content">
      <div class="modal-header error">
        <i class="fas fa-exclamation-circle"></i>
        <h3>Analysis Failed</h3>
      </div>
      <div class="modal-body">
        <p id="errorMessage">Failed to analyze the image. Please try again.</p>
      </div>
      <div class="modal-footer">
        <button id="closeErrorModal" class="btn secondary-btn">Try Again</button>
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>&copy; 2025 DiaCheck • AI Diabetes Risk Predictor. All rights reserved.</p>
      <p class="disclaimer">Note: This tool analyzes health documents for risk assessment and is not a substitute for
        professional medical advice.</p>
    </div>
  </footer>

  <script src="script.js"></script>
</body>

</html>